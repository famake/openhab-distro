
rule "lys_av_paa2"
when
    Item EnOceanStor received command or
    Item EnOceanStor2 received command
then
  //  sendCommand(lifx_colorlight_d073d50352d9_power, receivedCommand) //gang 1
  //  sendCommand(lifx_colorlight_d073d503be21_power, receivedCommand) // gang 2
  //  sendCommand(lifx_colorlight_d073d50353f2_power, receivedCommand) // stuegang
  //  sendCommand(lifx_colorlight_d073d503ba98_power, receivedCommand) // Kjøkken 1
  //  sendCommand(lifx_colorlight_d073d502f67c_power, receivedCommand) // Kjøkken 2
  if (receivedCommand == ON) {
        sendCommand(artnet_node_4ec044e3_color, INCREASE)
  else {
        sendCommand(artnet_node_4ec044e3_color, DECREASE)
  }
    //sendCommand(artnet_node_fbf96f11_color, receivedCommand)
end


rule "lys_av_paa" 
when
    Item EnOceanStor received command or
    Item EnOceanStor3 received command 
then
    var level = lifx_colorlight_d073d502f675_color.state as HSBType
    
    if (receivedCommand == ON && lifx_colorlight_d073d503be6b_power.state == ON) {
        sendCommand(lifx_colorlight_d073d503be6b_color, new PercentType(100))//  stue 3
        sendCommand(lifx_colorlight_d073d502f675_color, new PercentType(100)) // Stue 2
        sendCommand(lifx_colorlight_d073d503bd25_color, new PercentType(100)) // stue 1
        sendCommand(lifx_colorlight_d073d502f5aa_color, new PercentType(100)) // stuePc
    }
    else if (receivedCommand == OFF && level.getBrightness().intValue() > 90) {
        sendCommand(lifx_colorlight_d073d503be6b_color, new PercentType(20))//  stue 3
        sendCommand(lifx_colorlight_d073d502f675_color, new PercentType(20)) // Stue 2
        sendCommand(lifx_colorlight_d073d503bd25_color, new PercentType(20)) // stue 1
        sendCommand(lifx_colorlight_d073d502f5aa_color, new PercentType(20)) // stuePc
    }
    else {
        sendCommand(lifx_colorlight_d073d503be6b_power, receivedCommand)//  stue 3
        sendCommand(lifx_colorlight_d073d502f675_power, receivedCommand) // Stue 2
        sendCommand(lifx_colorlight_d073d503bd25_power, receivedCommand) // stue 1
        sendCommand(lifx_colorlight_d073d502f5aa_power, receivedCommand) // stuePc
    }
    //
    //sendCommand(artnet_node_f7c49632_color, receivedCommand)  
end
